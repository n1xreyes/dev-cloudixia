{"version":3,"sources":["./src/app/marketplace/listing-details/listing-details.component.ts","./src/app/marketplace/listing-details/listing-details.component.html","./src/app/marketplace/listing-overview-card/listing-overview-card.component.ts","./src/app/marketplace/listing-overview-card/listing-overview-card.component.html","./src/app/marketplace/marketplace-listing/marketplace-listing.component.ts","./src/app/marketplace/marketplace-listing/marketplace-listing.component.html","./src/app/marketplace/marketplace-routing.ts","./src/app/marketplace/marketplace-service.service.ts","./src/app/marketplace/marketplace.component.ts","./src/app/marketplace/marketplace.component.html","./src/app/marketplace/marketplace.module.ts","./src/app/marketplace/store/marketplace.effects.ts","./src/app/marketplace/store/marketplace.selectors.ts"],"names":[],"mappings":"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","file":"marketplace-marketplace-module-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Project } from 'src/app/projects/models/project.model';\nimport { ActivatedRoute } from '@angular/router';\nimport { MarketplaceService } from '../marketplace-service.service';\n\n@Component({\n  selector: 'app-listing-details',\n  templateUrl: './listing-details.component.html',\n  styleUrls: ['./listing-details.component.css']\n})\nexport class ListingDetailsComponent implements OnInit {\n\n  listing: Project;  // should be async to pick up changes? or will confuse users?\n  isLoading: boolean = true;\n\n  constructor(\n    private _route: ActivatedRoute,\n    private marketplaceService: MarketplaceService\n  ) {\n    this._route.params.subscribe(params => {\n\n      this.marketplaceService.getListing(params.id).subscribe(\n        payload => {\n          this.listing = payload.payload.val();\n          this.isLoading = false;\n        }\n      )\n\n    });\n\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div *ngIf=\"!isLoading\" class=\"white px-4 section-header\">\n\n    <h3>{{ listing.title }}</h3>\n\n    <div class=\"row mb-3\">\n        <div class=\"col-md-12\">\n        <img class=\"img-fluid list-detail-img \" src={{listing.photoUrl}} alt=\"Card image cap\">\n        </div>\n        </div>\n\n    <h2>About:</h2>\n    <p class=\"pt-3\">{{ listing.description }}</p>\n\n\n    <div class=\"text-left\">\n        <a mdbBtn color=\"secondary\" mdbWavesEffect [routerLink]=\"[ '/' ]\">Back</a>\n        <a mdbBtn color=\"primary\" mdbWavesEffect (click)=\"onDelete()\">Continue ($5.90)</a>\n      </div>\n\n</div>\n\n<div *ngIf=\"isLoading\" class=\"d-flex justify-content-center align-items-center\" style=\"margin-top: 200px\">\n    <div class=\"spinner-grow text-primary\" role=\"status\" style=\"width: 4rem; height: 4rem;\">\n        <span class=\"sr-only\">Loading...</span>\n    </div>\n</div>","import { Component, OnInit, Input } from '@angular/core';\nimport { Project } from 'src/app/projects/models/project.model';\n\n@Component({\n  selector: 'app-listing-overview-card',\n  templateUrl: './listing-overview-card.component.html',\n  styleUrls: ['./listing-overview-card.component.css']\n})\nexport class ListingOverviewCardComponent implements OnInit {\n\n  @Input() listing: Project;\n  price: string;\n  constructor() { }\n\n  ngOnInit(): void {\n    this.price = this.getPrice();\n  }\n\n  log(text: Project) {\n    console.log(text)\n  }\n\n  // will this be an async call?\n  getListingUser(){\n    return Math.floor((Math.random() * 1000) + 1) > 50 ? 'Sedky' : 'Rami'\n  }\n\n  // will this be an async call?\n  getPrice() {\n    return '' + Math.floor((Math.random() * 1000) + 1) + '.' + Math.floor((Math.random() * 100))\n  }\n\n  onViewClick() {\n    console.log()\n  }\n\n}\n","<mdb-card>\n  <!--Card image-->\n  <a [routerLink]=\"['/listing/' + listing.key]\">\n    <mdb-card-img *ngIf=\"listing.photoUrl\" src=\"{{ listing.photoUrl }}\" alt=\"Card image cap\" class=\"waves-light\"\n      mdbWavesEffect></mdb-card-img>\n  </a>\n  <!-- <mdb-card-img *ngIf=\"!listing.photoUrl\" src=\"https://mdbootstrap.com/img/Photos/Lightbox/Thumbnail/img%20(97).jpg\" alt=\"Card image cap\"></mdb-card-img> -->\n  <!--Card content-->\n  <mdb-card-body>\n    <a [routerLink]=\"['/listing/' + listing.key]\">\n      <!--Title-->\n      <mdb-card-title>\n        <h4>{{ listing.title }}</h4>\n      </mdb-card-title>\n\n      <!--Text-->\n      <mdb-card-text>\n        {{ listing.description }}\n      </mdb-card-text>\n\n      <hr>\n      <div class=\"text-right\">\n        <a>$ {{ price }}</a>\n      </div>\n    </a>\n  </mdb-card-body>\n</mdb-card>","import { Component, OnInit, Input } from '@angular/core';\nimport { Project } from 'src/app/projects/models/project.model';\n\n@Component({\n  selector: 'app-marketplace-listing',\n  templateUrl: './marketplace-listing.component.html',\n  styleUrls: ['./marketplace-listing.component.css']\n})\nexport class MarketplaceListingComponent implements OnInit {\n\n  @Input() listings: Project[];\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"marketplace-list d-flex flex-wrap fadeIn animated\">\n    <div class=\"listing\" *ngFor=\"let listing of listings\">\n      <app-listing-overview-card [listing]=\"listing\" ></app-listing-overview-card>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MarketplaceComponent } from './marketplace.component';\nimport { ListingDetailsComponent } from './listing-details/listing-details.component';\n\nconst routes: Routes = [\n  { path: '', component: MarketplaceComponent },\n  { path: 'listing/:id', component: ListingDetailsComponent }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class MarketplaceRoutingModule {}\n","import { Injectable } from '@angular/core';\n\nimport { AngularFireDatabase, SnapshotAction } from '@angular/fire/database';\nimport { Observable, of } from 'rxjs';\nimport { Project } from '../projects/models/project.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MarketplaceService {\n  PREFIX = 'listings'\n\n  constructor(private db: AngularFireDatabase) { }\n\n  add(listing: Project, listingKey: string) {\n    const listings = this.db.database.ref(`${this.PREFIX}`).child(`${listingKey}`)\n    return listings.set(listing);\n  }\n\n  update(project: Project, userId: string) {\n    return of(this.db.object(`${this.PREFIX}/${userId}/` + project.key)\n      .update({\n        title: project.title,\n        description: project.description,\n        photoUrl: project.photoUrl\n      }));\n  }\n\n  delete(listing: Project) {\n    return this.db.object(`${this.PREFIX}/${listing.key}`).remove();\n  }\n\n  getListing(listingId: string): Observable<SnapshotAction<any>> {\n    return this.db.object(`${this.PREFIX}/${listingId}`).snapshotChanges();\n  }\n\n  // to replace with algolia\n  getAllListings() {    \n    return this.db.list(this.PREFIX).snapshotChanges();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport * as fromMarketplace from './store/marketplace.actions';\nimport { Store, select } from '@ngrx/store';\nimport { AppState } from '../reducers';\nimport { Observable } from 'rxjs';\nimport { Project } from '../projects/models/project.model';\nimport { map } from 'rxjs/operators';\nimport { getAllLoaded, getProjects } from './store/marketplace.selectors';\n\n@Component({\n  selector: 'app-marketplace',\n  templateUrl: './marketplace.component.html',\n  styleUrls: ['./marketplace.component.css']\n})\nexport class MarketplaceComponent implements OnInit {\n  projects$: Observable<Project[] | null>;\n  isLoading$: Observable<boolean>;\n\n  constructor(private store: Store<AppState>) { }\n\n  ngOnInit(): void {\n    this.isLoading$ = this.store.select(getAllLoaded);\n    this.projects$ = this.store.pipe(\n      select(getProjects),\n      map( (projects: Project[]) => {\n        if (!projects) {\n          this.store.dispatch(new fromMarketplace.MarketplaceQueryAll());\n        }\n        return projects;\n      })\n    );\n  }\n\n}\n","<div class=\"white px-4 section-header\">\n    <h3>Marketplace</h3>\n    <p class=\"pt-3\">Hire a professional today! Find The Perfect Freelance Services For Your Business</p>\n</div>\n\n<div class=\"container-fluid pb-5\">\n    <div class=\"py-5\">\n        <app-marketplace-listing [listings]=\"projects$ | async\"></app-marketplace-listing>\n\n        <div *ngIf=\"isLoading$ | async\" class=\"d-flex justify-content-center align-items-center\"\n            style=\"margin-top: 200px\">\n            <div class=\"spinner-grow text-primary\" role=\"status\" style=\"width: 4rem; height: 4rem;\">\n                <span class=\"sr-only\">Loading...</span>\n            </div>\n        </div>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MarketplaceComponent } from './marketplace.component';\nimport { StoreModule } from '@ngrx/store';\nimport { HttpClientModule } from '@angular/common/http';\n\n\n\n\nimport { ButtonsModule, InputsModule, CardsModule, WavesModule, IconsModule, ModalModule } from 'angular-bootstrap-md';\n\nimport * as fromMarketplace from './store/marketplace.reducer';\nimport { EffectsModule } from '@ngrx/effects';\nimport { MarketplaceEffects } from './store/marketplace.effects';\nimport { FormsModule } from '@angular/forms';\nimport { SharedModule } from '../shared/shared.module';\nimport { MarketplaceRoutingModule } from './marketplace-routing';\nimport { MarketplaceListingComponent } from './marketplace-listing/marketplace-listing.component';\nimport { ListingOverviewCardComponent } from './listing-overview-card/listing-overview-card.component';\nimport { ListingDetailsComponent } from './listing-details/listing-details.component';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ModalModule,\n    SharedModule,\n    HttpClientModule,\n    MarketplaceRoutingModule,\n    FormsModule,\n    ButtonsModule,\n    InputsModule,\n    WavesModule,\n    IconsModule,\n    CardsModule,\n    StoreModule.forFeature('marketplace', fromMarketplace.marketplaceReducer),\n    EffectsModule.forFeature([MarketplaceEffects])\n  ],\n  declarations: [MarketplaceComponent, MarketplaceListingComponent, ListingOverviewCardComponent, ListingDetailsComponent],\n  exports: [MarketplaceComponent],\n})\nexport class MarketplaceModule { }\n","import { Injectable } from '@angular/core';\nimport { Actions, Effect, ofType } from '@ngrx/effects';\n\nimport { Store, select } from '@ngrx/store';\nimport { switchMap, map, catchError, withLatestFrom } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nimport * as fromMarketplace from './marketplace.actions'\nimport { AppState } from '../../reducers/index';\nimport { getUser } from '../../auth/store/auth.selectors';\nimport { MarketplaceActionTypes } from './marketplace.actions';\nimport { Project } from 'src/app/projects/models/project.model';\nimport { MarketplaceService } from '../marketplace-service.service';\n\n@Injectable()\nexport class MarketplaceEffects {\n\n    constructor(\n        private actions$: Actions,\n        private marketplaceService: MarketplaceService,\n        private store: Store<AppState>\n    ) { }\n\n    @Effect()\n    marketplaceQuery$ = this.actions$.pipe(\n        ofType(MarketplaceActionTypes.MARKETPLACE_QUERY_ALL),\n        withLatestFrom(this.store.pipe(select(getUser))),\n        switchMap(([]: any) => {\n            return this.marketplaceService.getAllListings()\n                .pipe(\n                    map((data: any) => {\n                        const projectsData: Project[] = [];\n                        data.map((res: any) => {\n                            const projectKey: string = res.payload.key;\n                            const project: Project = res.payload.val();\n                            projectsData.push({\n                                key: projectKey || null,\n                                title: project.title || undefined,\n                                description: project.description || undefined,\n                                photoUrl: project.photoUrl || undefined\n                            })\n                        });\n                        return (new fromMarketplace.MarketplaceLoaded({ projects: projectsData }));\n                    }),\n                    catchError(error => of(new fromMarketplace.MarketplaceError({ error })))\n                );\n        }),\n    );\n\n}\n","import { createSelector, createFeatureSelector } from '@ngrx/store';\nimport { MarketplaceState } from './marketplace.state';\n\nexport const getProjectsState = createFeatureSelector<MarketplaceState>('marketplace');\n\nexport const getProjects = createSelector(\n  getProjectsState,\n  marketplace => marketplace.projects\n);\n\nexport const getAllLoaded = createSelector(\n  getProjectsState,\n  marketplace => marketplace.loading\n);\n\nexport const getError = createSelector(\n  getProjectsState,\n  marketplace => marketplace.error\n);\n"],"sourceRoot":"webpack:///"}